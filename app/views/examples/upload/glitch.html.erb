<div class="w-full">
  <div class="p-2">
    <div id="uploadzone" data-controller="uploadzone" data-action="file-uploaded@window->uploadzone#uploaded click->uploadzone#trigger drop->uploadzone#acceptFiles">
      <input type="file" class="hidden" multiple data-uploadzone-target="fileInput" data-action="change->uploadzone#acceptFiles">
      <button
        class="w-full rounded-lg bg-muted border-2 border-dashed border-gray-300 p-8 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
        <svg aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto h-12 w-12 text-gray-400"><path d="M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"></path><polyline points="14 2 14 8 20 8"></polyline><path d="M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z"></path><path d="M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z"></path><path d="M2 19v-3a6 6 0 0 1 12 0v3"></path></svg>
        <span class="mt-2 block text-sm font-semibold text-gray-900 dark:text-white">Drag Images to Upload or Click Here</span>
      </button>
    </div>
  </div>
</div>

<section 
  class="flex flex-wrap after:content-[''] after:flex-grow-999999999"
  id="grid"
  data-action="refresh-lightbox@window->lightbox#refresh"
  data-controller="gallery lightbox">
  <% @picture_imagekit_urls.each do |urls| %>
    <%= link_to asset_path(urls.large), "data-src": asset_path(urls.large), class: "block relative m-1 group", style: "#{gallery_style(urls.width, urls.height)}" do %>
      <div class="absolute inset-0 hidden group-hover:block">
        <%= button_tag nil, class: button_classes("absolute z-10 right-2 top-2").render(size: :"sm-rounded", color: :"outline-light-gray") do %>
          <%= inline_svg_tag "heroicons-plus.svg", class: "h-4 w-4 text-gray-500" %>
        <% end %>      
      </div>
      <i class="block" style="<%= i_style(urls.width, urls.height)%>"></i>
      <%= image_tag url_for(urls.thumb), class: "img-gallery js-lazy-image", data: { src: url_for(urls.thumb) } %>
    <% end %>
  <% end %> 
</section>

<div class="flex">
  <%= render 'shared/upload_dialog' %>
</div>

<!--
  Make sure you add some bottom padding to pages that include a sticky banner like this to prevent
  your content from being obscured when the user scrolls to the bottom of the page.
-->
<div class="pointer-events-none fixed inset-x-0 bottom-0 sm:px-6 sm:pb-5 lg:px-8 z-20 ">
  <div class="pointer-events-auto flex items-center justify-between gap-x-6 bg-gray-900 px-6 py-2.5 sm:rounded-xl sm:py-3 sm:pl-4 sm:pr-3.5">
    <p class="text-sm leading-6 text-white">
      <a href="#">
        <strong class="font-semibold">GeneriCon 2023</strong><svg viewBox="0 0 2 2" class="mx-2 inline h-0.5 w-0.5 fill-current" aria-hidden="true"><circle cx="1" cy="1" r="1" /></svg>Join us in Denver from June 7 – 9 to see what’s coming next&nbsp;<span aria-hidden="true">&rarr;</span>
      </a>
    </p>
    <button type="button" class="-m-3 flex-none p-3 focus-visible:outline-offset-[-4px]">
      <span class="sr-only">Dismiss</span>
      <svg class="h-5 w-5 text-white" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
      </svg>
    </button>
  </div>
</div>
